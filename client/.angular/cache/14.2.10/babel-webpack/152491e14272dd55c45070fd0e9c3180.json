{"ast":null,"code":"import { FormControl } from \"@angular/forms\";\nimport { MatPaginator } from \"@angular/material/paginator\";\nimport { MatSort } from \"@angular/material/sort\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { combineLatest, first, forkJoin, map, startWith, tap } from \"rxjs\";\nimport { FadeIn } from \"../core/animations/animations\";\nimport { TicketsDialog } from \"../core/tickets-dialog/tickets-dialog\";\nimport { UserTypeEnum } from \"../models/user\";\nimport * as moment from \"moment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"../services/http.service\";\nimport * as i5 from \"ng-lazyload-image\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/checkbox\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/radio\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"@angular/material/icon\";\nimport * as i13 from \"@angular/material/tooltip\";\nimport * as i14 from \"@angular/material/paginator\";\nimport * as i15 from \"@angular/material/sort\";\nimport * as i16 from \"@angular/material/table\";\nimport * as i17 from \"@angular/forms\";\n\nfunction FlightsComponent_mat_radio_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-radio-button\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const carrier_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", carrier_r24);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", carrier_r24, \" \");\n  }\n}\n\nfunction FlightsComponent_mat_radio_button_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-radio-button\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r25 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r25);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r25, \" \");\n  }\n}\n\nfunction FlightsComponent_button_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function FlightsComponent_button_24_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.addNewFlight());\n    });\n    i0.ɵɵtext(1, \"+ Add new flight\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Flight Number \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r28.flight_num, \" \");\n  }\n}\n\nfunction FlightsComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Departure \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r29.departure, \" \");\n  }\n}\n\nfunction FlightsComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Destination \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r30 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r30.destination, \" \");\n  }\n}\n\nfunction FlightsComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Carrier \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_37_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 34);\n    i0.ɵɵelement(1, \"img\", 35);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const airline_r33 = ctx.ngIf;\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"defaultImage\", ctx_r32.defaultImage)(\"lazyLoad\", airline_r33.symbol)(\"alt\", airline_r33.name)(\"matTooltip\", airline_r33.name);\n  }\n}\n\nfunction FlightsComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtemplate(1, FlightsComponent_td_37_span_1_Template, 2, 4, \"span\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r31 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r11.getAirlineByCid(row_r31.carrier_id));\n  }\n}\n\nfunction FlightsComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Departure Datetime \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r34 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, row_r34.departure_datetime, \"dd/MM/yyyy HH:mm\"), \" \");\n  }\n}\n\nfunction FlightsComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Arrival Datetime \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r35 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, row_r35.arrival_datetime, \"dd/MM/yyyy HH:mm\"), \" \");\n  }\n}\n\nfunction FlightsComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \" Airline Type \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r36 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r36.airline_type, \" \");\n  }\n}\n\nfunction FlightsComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 36);\n  }\n}\n\nfunction FlightsComponent_td_49_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r37 = i0.ɵɵnextContext().$implicit;\n    const ctx_r38 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind2(2, 1, ctx_r38.tickets * row_r37.price_per_ticket, \"USD\"), \"\");\n  }\n}\n\nfunction FlightsComponent_td_49_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function FlightsComponent_td_49_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r45);\n      const row_r37 = i0.ɵɵnextContext().$implicit;\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.book(row_r37));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"flight\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Book now \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r37 = i0.ɵɵnextContext().$implicit;\n    const ctx_r39 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r39.isTicketDisabled(row_r37));\n  }\n}\n\nfunction FlightsComponent_td_49_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function FlightsComponent_td_49_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const row_r37 = i0.ɵɵnextContext().$implicit;\n      const ctx_r47 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r47.updateFlight(row_r37.cid));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\", 48);\n    i0.ɵɵtext(2, \"create\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Update \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_49_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 49);\n    i0.ɵɵlistener(\"click\", function FlightsComponent_td_49_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r52);\n      const row_r37 = i0.ɵɵnextContext().$implicit;\n      const ctx_r50 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r50.removeFlight(row_r37.cid));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\", 50);\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Delete \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction FlightsComponent_td_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 37)(1, \"h1\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, FlightsComponent_td_49_p_4_Template, 3, 4, \"p\", 39);\n    i0.ɵɵelementStart(5, \"div\", 40);\n    i0.ɵɵtemplate(6, FlightsComponent_td_49_button_6_Template, 4, 1, \"button\", 41);\n    i0.ɵɵtemplate(7, FlightsComponent_td_49_button_7_Template, 4, 0, \"button\", 42);\n    i0.ɵɵtemplate(8, FlightsComponent_td_49_button_8_Template, 4, 0, \"button\", 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 44);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r37 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 6, row_r37.price_per_ticket, \"USD\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.tickets);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r19.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.isAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.isAdmin);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r19.getTicketTooltip(row_r37));\n  }\n}\n\nfunction FlightsComponent_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 51);\n  }\n}\n\nfunction FlightsComponent_tr_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 52);\n  }\n}\n\nfunction FlightsComponent_tr_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 53)(1, \"td\", 54);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n\n    const _r0 = i0.ɵɵreference(7);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"No data matching the filter \\\"\", _r0.value, \"\\\"\");\n  }\n}\n\nconst _c0 = function () {\n  return [5, 10, 25, 100];\n};\n\nfunction FlightsComponent_mat_paginator_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-paginator\", 55);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    \"display\": a0\n  };\n};\n\nexport let FlightsComponent = /*#__PURE__*/(() => {\n  class FlightsComponent {\n    constructor(router, dialog, snackBar, httpService) {\n      this.router = router;\n      this.dialog = dialog;\n      this.snackBar = snackBar;\n      this.httpService = httpService;\n      this.defaultImage = \"assets/logo.png\";\n      this.displayedColumns = [\"flight_num\", \"departure\", \"destination\", \"carrier_id\", \"departure_datetime\", \"arrival_datetime\", \"airline_type\"];\n      this.airlines = [];\n      this.carrierCtrl = new FormControl();\n      this.countryCtrl = new FormControl();\n      this.chipestFlightsFirstCtrl = new FormControl(true);\n      this.disableBooking = false;\n      this.disableFilter = false;\n      this.disablePagination = false;\n      this.disableAddNewFlight = false;\n    }\n\n    ngOnInit() {\n      const loggedInUserStr = sessionStorage.getItem(\"logged_in_user\");\n\n      if (loggedInUserStr) {\n        this.loggedInUser = JSON.parse(loggedInUserStr);\n      }\n\n      if (!this.disableBooking) {\n        this.displayedColumns.push(\"options\");\n      }\n\n      combineLatest([this.carrierCtrl.valueChanges.pipe(startWith(\"\")), this.countryCtrl.valueChanges.pipe(startWith(\"\")), this.chipestFlightsFirstCtrl.valueChanges.pipe(startWith(\"\"))]).pipe(tap(() => this.loadFlights())).subscribe();\n    }\n\n    ngAfterViewInit() {\n      if (!this.flights) {\n        this.loadFlights();\n      } else {\n        this.httpService.getAirlines().pipe(first(), tap(res => this.dataSource = new MatTableDataSource(this.flights)), tap(res => this.airlines = res), tap(() => this.dataSource.paginator = this.disablePagination ? null : this.paginator), tap(() => this.dataSource.sort = this.sort)).subscribe();\n      }\n    }\n\n    loadFlights() {\n      forkJoin([this.httpService.getFlights(), this.httpService.getAirlines()]).pipe(first(), map(res => this.loadDataSource(res[0], res[1]))).subscribe();\n    }\n\n    loadDataSource(flights, airlines) {\n      if (this.carrierCtrl.value && this.carrierCtrl.value !== \"All\") {\n        const carrier = airlines.find(a => a.name === this.carrierCtrl.value);\n        flights = flights.filter(f => f.carrier_id === carrier?.cid);\n      }\n\n      if (this.countryCtrl.value && this.countryCtrl.value !== \"All\") {\n        flights = flights.filter(f => f.destination === this.countryCtrl.value);\n      }\n\n      if (this.chipestFlightsFirstCtrl.value) {\n        flights = flights.sort((a, b) => a.price_per_ticket - b.price_per_ticket);\n      }\n\n      this.dataSource = new MatTableDataSource(flights);\n      this.airlines = airlines;\n      this.dataSource.sort = this.sort;\n      this.dataSource.paginator = this.disablePagination ? null : this.paginator;\n    }\n\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n\n      if (this.dataSource.paginator && !this.disablePagination) {\n        this.dataSource.paginator.firstPage();\n      }\n    }\n\n    getAirlineByCid(cid) {\n      return this.airlines.find(a => a.cid == cid);\n    }\n\n    book(flight) {\n      sessionStorage.setItem(\"CHECKOUT_FLIGHTS\", JSON.stringify([flight]));\n\n      if (!this.tickets) {\n        const dialogRef = this.dialog.open(TicketsDialog, {\n          data: {\n            maxTickets: flight.max_capacity - flight.current_capacity\n          }\n        });\n        dialogRef.afterClosed().subscribe(ticketsNumber => {\n          if (ticketsNumber) {\n            sessionStorage.setItem(\"CHECKOUT_TICKETS\", JSON.stringify(ticketsNumber));\n            this.router.navigate([\"checkout\"]);\n          }\n        });\n      } else {\n        sessionStorage.setItem(\"CHECKOUT_TICKETS\", JSON.stringify(this.tickets));\n        this.router.navigate([\"checkout\"]);\n      }\n    }\n\n    isTicketDisabled(flight) {\n      // check if less then 12 hours till the flight\n      if (moment(flight.departure_datetime).diff(moment(new Date()), \"hours\") < 12) {\n        return true;\n      } // check if tickets left\n\n\n      const ticketsLeft = flight.max_capacity - flight.current_capacity;\n      return this.tickets ? ticketsLeft < this.tickets : ticketsLeft <= 0;\n    }\n\n    getTicketTooltip(flight) {\n      // check if less then 12 hours till the flight\n      if (moment(flight.departure_datetime).diff(moment(new Date()), \"hours\") < 12) {\n        return \"You missed the time frame for buying ticket for this flight\";\n      }\n\n      return this.getTicketsLeftText(flight);\n    }\n\n    getTicketsLeftText(flight) {\n      const ticketsLeft = flight.max_capacity - flight.current_capacity;\n\n      if (ticketsLeft) {\n        if (this.tickets && ticketsLeft >= this.tickets) {\n          return `Tickets available`;\n        } else if (this.tickets) {\n          return `Sorry we have only ${ticketsLeft} tickets available for this flight`;\n        }\n\n        return `${ticketsLeft} Tickets available!`;\n      } else {\n        return `No tickets left`;\n      }\n    }\n\n    removeFlight(cid) {\n      this.httpService.deleteFlight(cid).pipe(first(), tap(() => this.snackBar.open(\"The flight has been deleted successfully!\", undefined, {\n        verticalPosition: \"top\",\n        duration: 3000\n      })), map(() => this.loadFlights())).subscribe();\n    }\n\n    addNewFlight() {\n      this.router.navigate([\"flight\"]);\n    }\n\n    updateFlight(cid) {\n      this.router.navigate([\"flight\", cid]);\n    }\n\n    get isAdmin() {\n      return this.loggedInUser?.userType === UserTypeEnum.Admin;\n    }\n\n    get carriers() {\n      const carr = [\"All\"];\n      return carr.concat(Array.from(new Set(this.airlines.map(a => a.name))));\n    }\n\n    get destinationCountries() {\n      const carr = [\"All\"];\n      return carr.concat(Array.from(new Set(this.dataSource?.data?.map(f => f.destination))));\n    }\n\n  }\n\n  FlightsComponent.ɵfac = function FlightsComponent_Factory(t) {\n    return new (t || FlightsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar), i0.ɵɵdirectiveInject(i4.HttpService));\n  };\n\n  FlightsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FlightsComponent,\n    selectors: [[\"app-flights\"]],\n    viewQuery: function FlightsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    inputs: {\n      flights: \"flights\",\n      tickets: \"tickets\",\n      disableBooking: \"disableBooking\",\n      disableFilter: \"disableFilter\",\n      disablePagination: \"disablePagination\",\n      disableAddNewFlight: \"disableAddNewFlight\"\n    },\n    decls: 54,\n    vars: 13,\n    consts: [[1, \"filter-panel\", 3, \"ngStyle\"], [1, \"filter-sticky\"], [1, \"sorting-section\"], [1, \"filter\"], [\"matInput\", \"\", \"placeholder\", \"Ex. EL238\", 3, \"keyup\"], [\"input\", \"\"], [1, \"sorting-filter-label\"], [\"color\", \"primary\", 1, \"sorting-checkbox\", 3, \"formControl\"], [1, \"sorting-radio-group\", 3, \"formControl\"], [\"color\", \"primary\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"table\"], [\"mat-raised-button\", \"\", \"class\", \"add-new-flight\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"flight_num\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"departure\"], [\"matColumnDef\", \"destination\"], [\"matColumnDef\", \"carrier_id\"], [\"matColumnDef\", \"departure_datetime\"], [\"matColumnDef\", \"arrival_datetime\"], [\"matColumnDef\", \"airline_type\"], [\"matColumnDef\", \"options\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"ticket-options\", 4, \"matCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"pageSize\", \"10\", \"aria-label\", \"Select page of flights\", 3, \"pageSizeOptions\", 4, \"ngIf\"], [\"color\", \"primary\", 3, \"value\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"add-new-flight\", 3, \"click\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"class\", \"carrier\", 4, \"ngIf\"], [1, \"carrier\"], [3, \"defaultImage\", \"lazyLoad\", \"alt\", \"matTooltip\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\", 1, \"ticket-options\"], [1, \"options-price\"], [\"class\", \"options-total-price\", 4, \"ngIf\"], [1, \"options-button-group\"], [\"mat-raised-button\", \"\", \"class\", \"book-now\", \"color\", \"primary\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"class\", \"update-flight\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"class\", \"remove-flight\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [1, \"tickets-left\"], [1, \"options-total-price\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"book-now\", 3, \"disabled\", \"click\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"update-flight\", 3, \"click\"], [\"matTooltip\", \"Update\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"remove-flight\", 3, \"click\"], [\"matTooltip\", \"Remove\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [\"colspan\", \"4\", 1, \"mat-cell\"], [\"pageSize\", \"10\", \"aria-label\", \"Select page of flights\", 3, \"pageSizeOptions\"]],\n    template: function FlightsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"section\", 2)(3, \"mat-form-field\", 3)(4, \"mat-label\");\n        i0.ɵɵtext(5, \"Filter\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 4, 5);\n        i0.ɵɵlistener(\"keyup\", function FlightsComponent_Template_input_keyup_6_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"section\", 2)(9, \"label\", 6);\n        i0.ɵɵtext(10, \"Properties\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-checkbox\", 7);\n        i0.ɵɵtext(12, \"Chipest flights first\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"section\", 2)(14, \"label\", 6);\n        i0.ɵɵtext(15, \"Carrier\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-radio-group\", 8);\n        i0.ɵɵtemplate(17, FlightsComponent_mat_radio_button_17_Template, 2, 2, \"mat-radio-button\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"section\", 2)(19, \"label\", 6);\n        i0.ɵɵtext(20, \"Destination\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-radio-group\", 8);\n        i0.ɵɵtemplate(22, FlightsComponent_mat_radio_button_22_Template, 2, 2, \"mat-radio-button\", 9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵtemplate(24, FlightsComponent_button_24_Template, 2, 0, \"button\", 11);\n        i0.ɵɵelementStart(25, \"table\", 12);\n        i0.ɵɵelementContainerStart(26, 13);\n        i0.ɵɵtemplate(27, FlightsComponent_th_27_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(28, FlightsComponent_td_28_Template, 2, 1, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(29, 16);\n        i0.ɵɵtemplate(30, FlightsComponent_th_30_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(31, FlightsComponent_td_31_Template, 2, 1, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(32, 17);\n        i0.ɵɵtemplate(33, FlightsComponent_th_33_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(34, FlightsComponent_td_34_Template, 2, 1, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(35, 18);\n        i0.ɵɵtemplate(36, FlightsComponent_th_36_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(37, FlightsComponent_td_37_Template, 2, 1, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 19);\n        i0.ɵɵtemplate(39, FlightsComponent_th_39_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(40, FlightsComponent_td_40_Template, 3, 4, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(41, 20);\n        i0.ɵɵtemplate(42, FlightsComponent_th_42_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(43, FlightsComponent_td_43_Template, 3, 4, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(44, 21);\n        i0.ɵɵtemplate(45, FlightsComponent_th_45_Template, 2, 0, \"th\", 14);\n        i0.ɵɵtemplate(46, FlightsComponent_td_46_Template, 2, 1, \"td\", 15);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(47, 22);\n        i0.ɵɵtemplate(48, FlightsComponent_th_48_Template, 1, 0, \"th\", 23);\n        i0.ɵɵtemplate(49, FlightsComponent_td_49_Template, 11, 9, \"td\", 24);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(50, FlightsComponent_tr_50_Template, 1, 0, \"tr\", 25);\n        i0.ɵɵtemplate(51, FlightsComponent_tr_51_Template, 1, 0, \"tr\", 26);\n        i0.ɵɵtemplate(52, FlightsComponent_tr_52_Template, 3, 1, \"tr\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(53, FlightsComponent_mat_paginator_53_Template, 1, 2, \"mat-paginator\", 28);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(11, _c1, ctx.disableFilter ? \"none\" : \"block\"));\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formControl\", ctx.chipestFlightsFirstCtrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.carrierCtrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.carriers);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.countryCtrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.destinationCountries);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin && !ctx.disableAddNewFlight);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.disablePagination);\n      }\n    },\n    dependencies: [i5.LazyLoadImageDirective, i6.NgForOf, i6.NgIf, i6.NgStyle, i7.MatCheckbox, i8.MatFormField, i8.MatLabel, i9.MatInput, i10.MatRadioGroup, i10.MatRadioButton, i11.MatButton, i12.MatIcon, i13.MatTooltip, i14.MatPaginator, i15.MatSort, i15.MatSortHeader, i16.MatTable, i16.MatHeaderCellDef, i16.MatHeaderRowDef, i16.MatColumnDef, i16.MatCellDef, i16.MatRowDef, i16.MatHeaderCell, i16.MatCell, i16.MatHeaderRow, i16.MatRow, i16.MatNoDataRow, i17.NgControlStatus, i17.FormControlDirective, i6.CurrencyPipe, i6.DatePipe],\n    styles: [\"[_nghost-%COMP%]{max-width:100vw;min-height:calc(100vh - 128px);grid-template-columns:min-content auto;display:grid;margin:30px 0;overflow:hidden}.connection[_nghost-%COMP%], .connection   [_nghost-%COMP%]{overflow:hidden;display:block;height:auto;min-height:auto}.filter-panel[_ngcontent-%COMP%]{padding:0 25px}.filter-sticky[_ngcontent-%COMP%]{display:flex!important;flex-direction:column;gap:20px;position:sticky;top:0}table[_ngcontent-%COMP%]{margin:0;width:100%;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-paginator[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;border-bottom:1px solid rgb(212,212,212);background-color:#fff}.carrier[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:50px;object-fit:contain}.tickets-left[_ngcontent-%COMP%]{font-size:12px;margin-top:7px;text-align:center;font-style:italic;color:#818181}.ticket-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-flow:column}.options-price[_ngcontent-%COMP%]{margin:0;font-weight:700}.options-total-price[_ngcontent-%COMP%]{color:#818181;font-size:10px;margin:0}.options-button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}.options-button-group[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding:10px 5px 10px 0}.sorting-section[_ngcontent-%COMP%]   .sorting-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:7px}.sorting-section[_ngcontent-%COMP%]   .sorting-filter-label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px;display:block;width:100%;border-bottom:1px solid #673bb7;padding-bottom:5px}.add-new-flight[_ngcontent-%COMP%]{float:left;margin-bottom:30px}\"],\n    data: {\n      animation: [FadeIn(200)]\n    }\n  });\n  return FlightsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}